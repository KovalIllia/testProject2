{"uid":"dffa7c5a2fb3f26e","name":"test_update_pet_with_form","fullName":"tests.test_pet_api#test_update_pet_with_form","historyId":"656720f08623ee68515bcd5371bc9c97","time":{"start":1759086814398,"stop":1759086818795,"duration":4397},"status":"failed","statusMessage":"AssertionError: Expected status code: 200, but got: 404","statusTrace":"pet_api = <src.api.pet_api.PetApi object at 0x7f0981196f40>\npet_payload = {'category': {'id': 1499439477, 'name': 'west'}, 'id': 2039097151, 'name': 'Rex', 'photoUrls': ['https://dummyimage.com/238x972'], ...}\n\n    @pytest.mark.flaky(reruns=3,reruns_delay=2)\n    def test_update_pet_with_form(pet_api,pet_payload):\n    \n        creating_pet = pet_api.add_pet(pet_payload)\n        time.sleep(3)\n        created_pet = creating_pet.json()\n        pet_id = created_pet[\"id\"]\n    \n    \n        PetWaiter.wait_for_pet(pet_api, pet_id,expected_status=200)\n        response_with_update = pet_api.update_pet_with_form_data(\n            pet_id,\n            name=\"Lopik\",\n            status=\"sold\"\n        )\n    \n>       Checking.check_status_code(response=response_with_update, status_code=200)\n\ntests/test_pet_api.py:94: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [404]>, status_code = 200\n\n    @staticmethod\n    def check_status_code(response: requests.Response, status_code):\n        \"\"\"\n        Checks the response status code. Can handle a single integer or a list/tuple of integers.\n        \"\"\"\n        if isinstance(status_code, (list, tuple)):\n            assert response.status_code in status_code, \\\n                f\"Expected status codes: {status_code}, but got: {response.status_code}\"\n        else:\n>           assert response.status_code == status_code, \\\n                f\"Expected status code: {status_code}, but got: {response.status_code}\"\nE           AssertionError: Expected status code: 200, but got: 404\n\nutils/checking_methods.py:19: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1759086798736,"stop":1759086798737,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_api","time":{"start":1759086798737,"stop":1759086798737,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_client","time":{"start":1759086798737,"stop":1759086798737,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_payload","time":{"start":1759086814398,"stop":1759086814398,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Expected status code: 200, but got: 404","statusTrace":"pet_api = <src.api.pet_api.PetApi object at 0x7f0981196f40>\npet_payload = {'category': {'id': 1499439477, 'name': 'west'}, 'id': 2039097151, 'name': 'Rex', 'photoUrls': ['https://dummyimage.com/238x972'], ...}\n\n    @pytest.mark.flaky(reruns=3,reruns_delay=2)\n    def test_update_pet_with_form(pet_api,pet_payload):\n    \n        creating_pet = pet_api.add_pet(pet_payload)\n        time.sleep(3)\n        created_pet = creating_pet.json()\n        pet_id = created_pet[\"id\"]\n    \n    \n        PetWaiter.wait_for_pet(pet_api, pet_id,expected_status=200)\n        response_with_update = pet_api.update_pet_with_form_data(\n            pet_id,\n            name=\"Lopik\",\n            status=\"sold\"\n        )\n    \n>       Checking.check_status_code(response=response_with_update, status_code=200)\n\ntests/test_pet_api.py:94: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [404]>, status_code = 200\n\n    @staticmethod\n    def check_status_code(response: requests.Response, status_code):\n        \"\"\"\n        Checks the response status code. Can handle a single integer or a list/tuple of integers.\n        \"\"\"\n        if isinstance(status_code, (list, tuple)):\n            assert response.status_code in status_code, \\\n                f\"Expected status codes: {status_code}, but got: {response.status_code}\"\n        else:\n>           assert response.status_code == status_code, \\\n                f\"Expected status code: {status_code}, but got: {response.status_code}\"\nE           AssertionError: Expected status code: 200, but got: 404\n\nutils/checking_methods.py:19: AssertionError","steps":[{"name":"POST /pet","time":{"start":1759086814398,"stop":1759086814454,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"GET /pet/{petId}","time":{"start":1759086817458,"stop":1759086817513,"duration":55},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"GET /pet/{petId}","time":{"start":1759086818514,"stop":1759086818741,"duration":227},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"POST /pet/2039097151","time":{"start":1759086818742,"stop":1759086818795,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_pet_api"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"2447-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_pet_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"dffa7c5a2fb3f26e.json","parameterValues":[]}